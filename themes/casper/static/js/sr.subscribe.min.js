paperli=window.paperli||{},paperli.pm_light=function(){var a,b,c,d=1,e=this;return{postMessage:function(a,b,c){b&&(c=c||parent,e.postMessage?c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +new Date+d++ +"&"+a))},receiveMessage:function(d,f){e.postMessage?(d&&(c=function(a){return"string"==typeof f&&a.origin!==f||"[object Function]"===Object.prototype.toString.call(f)&&f(a.origin)===!1?!1:void d(a)}),e.addEventListener?e[d?"addEventListener":"removeEventListener"]("message",c,!1):e[d?"attachEvent":"detachEvent"]("onmessage",c)):(a&&clearInterval(a),a=null,d&&(a=setInterval(function(){var a=document.location.hash,c=/^#?\d+&/;a!==b&&c.test(a)&&(b=a,d({data:a.replace(c,"")}))},100)))}}}(),window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(a){if(a instanceof Object){var b="";if(a.constructor===Array){for(var c=0;c<a.length;b+=this.stringify(a[c])+",",c++);return"["+b.substr(0,b.length-1)+"]"}if(a.toString!==Object.prototype.toString)return'"'+a.toString().replace(/"/g,"\\$&")+'"';for(var d in a)b+='"'+d.replace(/"/g,"\\$&")+'":'+this.stringify(a[d])+",";return"{"+b.substr(0,b.length-1)+"}"}return"string"==typeof a?'"'+a.replace(/"/g,"\\$&")+'"':String(a)}}),function(){"paperli"in window||(paperli={}),paperli.FRAME_NUMBER=paperli.FRAME_NUMBER||0,paperli.subscribe=function(){function a(a){return function(b){try{var c=JSON.parse(b.data);if(a==c.id){var d=document.getElementById(a);!isNaN(c.height)&&c.height>=0&&(d.height=c.height)}}catch(e){}}}function b(){return document.currentScript||function(){var a=document.getElementsByTagName("script");return a[a.length-1]}()}function c(a,b){a.parentNode.insertBefore(b,a.nextSibling)}return{show:function(d){var e=d.protocol||window.location.protocol,f=d.domain||"paper.li",g=d.locale||{},h=d.style||"",i=e+"//"+f,j="paperli-frame-"+ ++paperli.FRAME_NUMBER,k=["id="+d.id,"ifrm="+j,"loc="+encodeURIComponent(document.location.href),"locale="+encodeURIComponent(JSON.stringify(g)),"style="+encodeURIComponent(h)],l=i+"/subscribe-widget/index.html?"+k.join("&"),m=document.createElement("iframe");m.id=j,m.src=l,m.width=d.width||"100%",m.height="0",m.scrolling="no",m.frameBorder="0",m.marginWidth="0",m.marginHeight="0",m.allowTransparency=!0,m.vspace="0",m.hspace="0";var n=d.element;if(!n){var o=b();n=document.createElement("ins"),n.className="paperliwidget",n.style.cssText="width:100%;height:auto;border:none;margin:0;padding:0;visibility:visible;background-color:transparent;display:inline-block;font-size:0;line-height:0;",c(o,n)}n.appendChild(m),paperli.pm_light.receiveMessage(a(j),i)}}}()}();